// ==UserScript==
// @name         UK Mafia Bullet and Kevlar Buyer
// @namespace    http://tampermonkey.net/
// @version      1.2
// @description  Buy bullets and kevlars automatically in UK Mafia
// @author       You
// @match        https://www.uk-mafia.co.uk/*
// @grant        none
// ==/UserScript==

(function() {
    'use strict';

    function _0x169c(){const _0x47382b=['getItem','enableScript','bulletCount','match','Timeout\x20waiting\x20for\x20element:\x20','4hifrAU','3284736xKOTJf','random','lastKevlarPurchaseTime','Licence','getTime','setItem','Under\x20250','10HCiQaV','Licence\x20is\x20valid!\x20Main\x20code\x20running...','value','23754808DbtphV','innerText','Kevlar','kevlarCount','6195717skhQOS','trim','href','Purchasing\x20kevlars','932509qQwJVl','click','Error\x20parsing\x20time:\x20','floor','bulletRestockTime','kevlarRestockTime','message','786191Baxkkr','now','#kevlarcount\x20u','#factorytimer','rasdr123','warn','reload','lastBulletPurchaseTime','https://www.uk-mafia.co.uk/game#load?page=kill/bf','input[value=\x27Purchase\x27]','.\x20Returning\x20default\x20value\x20of\x205000.','Parsing\x20Count','Calculated\x20Restock\x20Time:','textContent','78OuWIUq','reset\x20to\x20time:\x20','kevlarCooldown','21183jdoBrs','Yes','bulletCooldown','querySelector','42QsLXQN','log','Waiting\x20to\x20parse','2194180SOiglj','Error\x20parsing\x20factory\x20timer:\x20','replace'];_0x169c=function(){return _0x47382b;};return _0x169c();}(function(_0xba91ec,_0x33cd4c){const _0x2c597f=_0x1789,_0x2f5e77=_0xba91ec();while(!![]){try{const _0x3d3aa3=parseInt(_0x2c597f(0x185))/0x1+parseInt(_0x2c597f(0x160))/0x2*(parseInt(_0x2c597f(0x163))/0x3)+parseInt(_0x2c597f(0x172))/0x4*(-parseInt(_0x2c597f(0x16a))/0x5)+parseInt(_0x2c597f(0x167))/0x6*(parseInt(_0x2c597f(0x152))/0x7)+parseInt(_0x2c597f(0x173))/0x8+parseInt(_0x2c597f(0x181))/0x9*(parseInt(_0x2c597f(0x17a))/0xa)+-parseInt(_0x2c597f(0x17d))/0xb;if(_0x3d3aa3===_0x33cd4c)break;else _0x2f5e77['push'](_0x2f5e77['shift']());}catch(_0xfa0c97){_0x2f5e77['push'](_0x2f5e77['shift']());}}}(_0x169c,0x78c80));function _0x1789(_0x395d99,_0x24aa5d){const _0x169c81=_0x169c();return _0x1789=function(_0x178997,_0x2e0678){_0x178997=_0x178997-0x150;let _0x41adc5=_0x169c81[_0x178997];return _0x41adc5;},_0x1789(_0x395d99,_0x24aa5d);}const checkLicenceAndExecute=_0x585b2f=>{const _0x1eb93f=()=>{const _0x2688aa=_0x1789,_0x3902a8=localStorage[_0x2688aa(0x16d)](_0x2688aa(0x176));_0x3902a8!==null&&_0x3902a8===_0x2688aa(0x156)?_0x585b2f():setTimeout(_0x1eb93f,0x3e8);};_0x1eb93f();},mainCode=()=>{const _0xdaccd7=_0x1789;console[_0xdaccd7(0x168)](_0xdaccd7(0x17b));};checkLicenceAndExecute(()=>{const _0x4e4887=_0x1789,_0x2a0049=_0x4e4887(0x15a),_0x22593b='https://www.uk-mafia.co.uk/game#load?page=kill/kf',_0x59c072=0x7530,_0x23a35d=0x7530;function _0x1de0f7(_0x50be6d){const _0x5e7977=_0x4e4887;try{const [_0x3b1236,_0x3b6c54,_0x596533]=_0x50be6d['match'](/(\d+) minutes and (\d+) seconds/);return parseInt(_0x3b6c54)*0x3c*0x3e8+parseInt(_0x596533)*0x3e8;}catch(_0x4c31e6){return console[_0x5e7977(0x157)](_0x5e7977(0x187)+_0x4c31e6[_0x5e7977(0x151)]+_0x5e7977(0x15c)),0x1388;}}function _0x3468d9(_0x5d3a42){return new Promise(_0x2d9e39=>setTimeout(_0x2d9e39,_0x5d3a42));}function _0x2cd3a3(_0x4370b9){const _0x4fd3eb=_0x4e4887;if(!_0x4370b9)return null;const _0x4da76d=_0x4370b9[_0x4fd3eb(0x15f)]['trim']()['split'](':')['map'](Number);if(_0x4da76d['length']!==0x3)return null;const [_0x26ab43,_0x942d50,_0x510031]=_0x4da76d;return _0x26ab43*0xe10+_0x942d50*0x3c+_0x510031;}function _0xa9a05b(_0x500d92){const _0x296452=_0x4e4887;let _0x5c8176=0x0,_0x3a8f55=0x0;try{const _0x587fef=_0x500d92[_0x296452(0x170)](/(\d+) minutes?/),_0x38f1a4=_0x500d92['match'](/(\d+) seconds?/);return _0x587fef&&(_0x5c8176=parseInt(_0x587fef[0x1])),_0x38f1a4&&(_0x3a8f55=parseInt(_0x38f1a4[0x1])),_0x5c8176*0x3c*0x3e8+_0x3a8f55*0x3e8;}catch(_0x106997){return console[_0x296452(0x157)](_0x296452(0x16b)+_0x106997[_0x296452(0x151)]+_0x296452(0x15c)),0x1388;}}function _0x3921a1(_0x3acf18){location['href']=_0x3acf18;}async function _0x1c42d7(_0xd34523,_0x5ccdec=0x1388,_0x18bce9=!![]){const _0x10395d=_0x4e4887,_0x237e46=Date[_0x10395d(0x153)]();while(Date['now']()-_0x237e46<_0x5ccdec){const _0x301f3e=document[_0x10395d(0x166)](_0xd34523);if(_0x301f3e)return _0x301f3e;await new Promise(_0x1820e0=>setTimeout(_0x1820e0,0x64));}if(_0x18bce9)throw new Error(_0x10395d(0x171)+_0xd34523);else return null;}async function _0xb6f2ec(_0x592585=0x3){const _0x2995cc=_0x4e4887;console[_0x2995cc(0x168)](_0x2995cc(0x164));const _0x268950=location[_0x2995cc(0x183)];_0x268950!=_0x2a0049&&(await _0x3468d9(0x9c4),_0x3921a1(_0x2a0049),await _0x3468d9(0x9c4));let _0x489b63=0x0;const _0x2149e8=await _0x1c42d7('#bulletcount\x20u',0xfa,![]);if(_0x2149e8)_0x489b63=parseInt(_0x2149e8[_0x2995cc(0x17e)][_0x2995cc(0x16c)](/,/g,''));else{location[_0x2995cc(0x158)]();const _0x244d9d=Math[_0x2995cc(0x188)](Math['random']()*0xa)+0x5;await _0x3468d9(_0x244d9d*0x3e8);return;}if(_0x489b63>=0xfa){const _0x33f675=await _0x1c42d7('input[id=\x27bullets\x27]'),_0x5d4bd8=await _0x1c42d7(_0x2995cc(0x15b));_0x33f675[_0x2995cc(0x17c)]=0xfa,_0x5d4bd8[_0x2995cc(0x186)](),console[_0x2995cc(0x168)]('Purchasing\x20bullets'),await new Promise(_0x265a93=>setTimeout(_0x265a93,0x5dc)),localStorage[_0x2995cc(0x178)](_0x2995cc(0x165),_0x59c072),localStorage[_0x2995cc(0x178)]('bulletCount',_0x489b63),localStorage[_0x2995cc(0x178)]('lastBulletPurchaseTime',Date[_0x2995cc(0x153)]());}else{const _0x5663f9=await _0x1c42d7(_0x2995cc(0x155),0x1388,![]),_0x2f0e0f=_0x5663f9[_0x2995cc(0x15f)][_0x2995cc(0x182)](),_0x37961d=_0xa9a05b(_0x2f0e0f),_0x2c7fd0=new Date(),_0x43612c=new Date(_0x2c7fd0[_0x2995cc(0x177)]()+_0x37961d),_0x15782d=_0x43612c[_0x2995cc(0x177)]()-_0x2c7fd0['getTime']();_0x15782d>0x3a*0x3c*0x3e8&&(_0x15782d=Math[_0x2995cc(0x188)](Math[_0x2995cc(0x174)]()*(0x1388-0x7d0+0x1)+0x7d0));localStorage['setItem'](_0x2995cc(0x16f),_0x489b63),console[_0x2995cc(0x168)](_0x2995cc(0x161)+_0x15782d),localStorage[_0x2995cc(0x178)](_0x2995cc(0x165),_0x15782d),console[_0x2995cc(0x168)](_0x2995cc(0x15e),_0x43612c),localStorage[_0x2995cc(0x178)](_0x2995cc(0x189),_0x43612c['getTime']());let _0x24d6aa=0x0;localStorage[_0x2995cc(0x16d)]('kevlarCooldown',_0x24d6aa),_0x24d6aa===0x0?_0x3921a1(_0x22593b):location[_0x2995cc(0x158)]();}}async function _0x592e10(_0x2d9301=0x3){const _0x39872f=_0x4e4887,_0x1237e8=location['href'];_0x1237e8!=_0x22593b&&(await _0x3468d9(0x9c4),_0x3921a1(_0x22593b),await _0x3468d9(0x9c4));await _0x3468d9(0x9c4),console[_0x39872f(0x168)](_0x39872f(0x17f));let _0xe1ac20=0x0;const _0x4f4037=await _0x1c42d7(_0x39872f(0x154),0xfa,![]);if(_0x4f4037)console[_0x39872f(0x168)](_0x39872f(0x15d)),_0xe1ac20=parseInt(_0x4f4037[_0x39872f(0x17e)][_0x39872f(0x16c)](/,/g,''));else{console[_0x39872f(0x168)](_0x39872f(0x169)),location['reload']();const _0x23fe5d=Math[_0x39872f(0x188)](Math[_0x39872f(0x174)]()*0xa)+0x5;await _0x3468d9(_0x23fe5d*0x3e8);return;}if(_0xe1ac20>=0xfa){const _0x4c27e9=await _0x1c42d7('input[id=\x27bullets\x27]'),_0x2c7089=await _0x1c42d7(_0x39872f(0x15b));_0x4c27e9[_0x39872f(0x17c)]=0xfa,_0x2c7089[_0x39872f(0x186)](),console[_0x39872f(0x168)](_0x39872f(0x184)),await new Promise(_0x264361=>setTimeout(_0x264361,0x5dc)),localStorage[_0x39872f(0x178)](_0x39872f(0x162),_0x23a35d),localStorage[_0x39872f(0x178)](_0x39872f(0x180),_0xe1ac20),localStorage[_0x39872f(0x178)](_0x39872f(0x175),Date['now']());}else{console[_0x39872f(0x168)](_0x39872f(0x179));const _0x36283d=await _0x1c42d7(_0x39872f(0x155),0x1388,![]),_0x356538=_0x36283d['textContent'][_0x39872f(0x182)](),_0x3bb1fe=_0xa9a05b(_0x356538),_0x2b6198=new Date(),_0x5ea1b2=new Date(_0x2b6198[_0x39872f(0x177)]()+_0x3bb1fe),_0x58b9ca=_0x5ea1b2[_0x39872f(0x177)]()-_0x2b6198[_0x39872f(0x177)]();localStorage[_0x39872f(0x178)](_0x39872f(0x180),_0xe1ac20),console['log'](_0x39872f(0x161)+_0x58b9ca),localStorage[_0x39872f(0x178)](_0x39872f(0x162),_0x58b9ca),console[_0x39872f(0x168)]('Calculated\x20Restock\x20TimeKev:',_0x5ea1b2),localStorage[_0x39872f(0x178)](_0x39872f(0x150),_0x5ea1b2[_0x39872f(0x177)]());let _0x39b53e=0x0;localStorage['getItem']('bulletCooldown',_0x39b53e),_0x39b53e===0x0?_0x3921a1(_0x2a0049):location[_0x39872f(0x158)]();}}function _0x54dc3a(){const _0x34ec37=_0x4e4887;return localStorage[_0x34ec37(0x16d)](_0x34ec37(0x16e))!=='false';}async function _0x54045f(){const _0x3b241e=_0x4e4887;if(!_0x54dc3a()){setTimeout(_0x54045f,0x3e8);return;}const _0xe6853=location[_0x3b241e(0x183)],_0x274ae8=parseInt(localStorage[_0x3b241e(0x16d)](_0x3b241e(0x165)))||0x0,_0x28d8ad=parseInt(localStorage['getItem'](_0x3b241e(0x159)))||0x0,_0x57feea=Date[_0x3b241e(0x153)]()-_0x28d8ad,_0x16f9e2=parseInt(localStorage[_0x3b241e(0x16d)](_0x3b241e(0x162)))||0x0,_0x487179=parseInt(localStorage[_0x3b241e(0x16d)]('lastKevlarPurchaseTime'))||0x0,_0x500360=Date['now']()-_0x487179;if(_0x274ae8==0x0)await _0xb6f2ec();else _0x16f9e2==0x0&&await _0x592e10();setTimeout(_0x54045f,0x3e8);}async function _0x53be39(){setTimeout(_0x54045f,0x3e8);}_0x53be39();});
})();
