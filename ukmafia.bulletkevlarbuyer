// ==UserScript==
// @name         UK Mafia Bullet and Kevlar Buyer
// @namespace    http://tampermonkey.net/
// @version      1.3
// @description  Buy bullets and kevlars automatically in UK Mafia
// @author       You
// @match        https://www.uk-mafia.co.uk/*
// @grant        none
// ==/UserScript==

(function() {
    'use strict';
function _0x9257(){const _0x32aa7c=['split','78ywVhmM','textContent','log','random','140610xljDto','Yes','input[value=\x27Purchase\x27]','min','bulletRestockTime','111454YSZSuK','#kevlarcount\x20+\x20u','.\x20Returning\x20default\x20value\x20of\x205000.','638lPgSOr','message','innerText','floor','296555ZVkVmQ','map','175188hJQVMK','now','Licence\x20is\x20valid!\x20Main\x20code\x20running...','kevlarCount','kevlarRestockTime','#factorytimer','kevlarCooldown','Waiting\x20to\x20parse','#bulletcount\x20+\x20u','https://www.uk-mafia.co.uk/game#load?page=kill/bf','reload','trim','match','478728gEWZVF','warn','getTime','querySelector','href','Under\x20250','bulletCooldown','getItem','520lmpjQf','#statmoney','rasdr123','enableScript','1090398bIDvLp','replace','#kevlarcount\x20u','input[id=\x27bullets\x27]','2tRmyxn','Timeout\x20waiting\x20for\x20element:\x20','value','#bulletcount\x20u','setItem','Parsing\x20Count','8IpwcHh','Error\x20parsing\x20factory\x20timer:\x20','615759ENFjBN','Purchasing\x20kevlars','false','2977oxPLAf'];_0x9257=function(){return _0x32aa7c;};return _0x9257();}(function(_0x2e8cf5,_0x93b7f5){const _0x5464dc=_0x1620,_0x37effd=_0x2e8cf5();while(!![]){try{const _0x24decb=-parseInt(_0x5464dc(0x10c))/0x1*(parseInt(_0x5464dc(0x104))/0x2)+parseInt(_0x5464dc(0x100))/0x3*(-parseInt(_0x5464dc(0x10a))/0x4)+-parseInt(_0x5464dc(0xe5))/0x5*(parseInt(_0x5464dc(0x111))/0x6)+parseInt(_0x5464dc(0xde))/0x7*(-parseInt(_0x5464dc(0xfc))/0x8)+-parseInt(_0x5464dc(0xf4))/0x9+parseInt(_0x5464dc(0xd9))/0xa*(parseInt(_0x5464dc(0xe1))/0xb)+-parseInt(_0x5464dc(0xe7))/0xc*(-parseInt(_0x5464dc(0x10f))/0xd);if(_0x24decb===_0x93b7f5)break;else _0x37effd['push'](_0x37effd['shift']());}catch(_0x66b5c2){_0x37effd['push'](_0x37effd['shift']());}}}(_0x9257,0xe99b5));function _0x1620(_0x4a5bc3,_0x2525f2){const _0x9257f=_0x9257();return _0x1620=function(_0x1620df,_0x33ead7){_0x1620df=_0x1620df-0xd6;let _0x12427e=_0x9257f[_0x1620df];return _0x12427e;},_0x1620(_0x4a5bc3,_0x2525f2);}const checkLicenceAndExecute=_0x2bd853=>{const _0x2411b2=()=>{const _0x56b538=_0x1620,_0x2cd329=localStorage['getItem']('Licence');_0x2cd329!==null&&_0x2cd329===_0x56b538(0xfe)?_0x2bd853():setTimeout(_0x2411b2,0x3e8);};_0x2411b2();};function extractMoney(){const _0xfe2211=_0x1620,_0x2e7fb7=document['querySelector'](_0xfe2211(0xfd));if(_0x2e7fb7){const _0x40a5a1=_0x2e7fb7[_0xfe2211(0xd6)][_0xfe2211(0x101)](/[^0-9]/g,'');return parseInt(_0x40a5a1);}return 0x0;}function extractPricePerBullet(){const _0x28ad54=_0x1620,_0x150a45=document[_0x28ad54(0xf7)](_0x28ad54(0xef));if(_0x150a45){const _0x21f10d=_0x150a45['textContent']['replace'](/[^0-9]/g,'');return parseInt(_0x21f10d);}return 0x0;}function extractPricePerKevlar(){const _0x119b14=_0x1620,_0x5e659f=document[_0x119b14(0xf7)](_0x119b14(0xdf));if(_0x5e659f){const _0x4256cd=_0x5e659f[_0x119b14(0xd6)][_0x119b14(0x101)](/[^0-9]/g,'');return parseInt(_0x4256cd);}return 0x0;}const mainCode=()=>{const _0x34c786=_0x1620;console[_0x34c786(0xd7)](_0x34c786(0xe9));};checkLicenceAndExecute(()=>{const _0x189fb4=_0x1620,_0x51bed5=_0x189fb4(0xf0),_0x5579e8='https://www.uk-mafia.co.uk/game#load?page=kill/kf',_0x19d224=0x7530,_0x54a161=0x7530;function _0xc0864c(_0x218cda){const _0x239a93=_0x189fb4;try{const [_0x3c6f5e,_0x56cfa8,_0x65df23]=_0x218cda[_0x239a93(0xf3)](/(\d+) minutes and (\d+) seconds/);return parseInt(_0x56cfa8)*0x3c*0x3e8+parseInt(_0x65df23)*0x3e8;}catch(_0x3416f9){return console[_0x239a93(0xf5)]('Error\x20parsing\x20time:\x20'+_0x3416f9[_0x239a93(0xe2)]+_0x239a93(0xe0)),0x1388;}}function _0x20eb07(_0x218680){return new Promise(_0x141f5f=>setTimeout(_0x141f5f,_0x218680));}function _0x5282f6(_0xfa8281){const _0x2fbb46=_0x189fb4;if(!_0xfa8281)return null;const _0x1d9e61=_0xfa8281[_0x2fbb46(0xd6)][_0x2fbb46(0xf2)]()[_0x2fbb46(0x110)](':')[_0x2fbb46(0xe6)](Number);if(_0x1d9e61['length']!==0x3)return null;const [_0x14f535,_0x4c8941,_0x145dea]=_0x1d9e61;return _0x14f535*0xe10+_0x4c8941*0x3c+_0x145dea;}function _0x431b0f(_0x4468d1){const _0x50028e=_0x189fb4;let _0x39f2cb=0x0,_0x3935a8=0x0;try{const _0x1ab822=_0x4468d1[_0x50028e(0xf3)](/(\d+) minutes?/),_0x1761e1=_0x4468d1['match'](/(\d+) seconds?/);return _0x1ab822&&(_0x39f2cb=parseInt(_0x1ab822[0x1])),_0x1761e1&&(_0x3935a8=parseInt(_0x1761e1[0x1])),_0x39f2cb*0x3c*0x3e8+_0x3935a8*0x3e8;}catch(_0x507b57){return console[_0x50028e(0xf5)](_0x50028e(0x10b)+_0x507b57[_0x50028e(0xe2)]+'.\x20Returning\x20default\x20value\x20of\x205000.'),0x1388;}}function _0x4fd7d6(_0x216ec8){location['href']=_0x216ec8;}async function _0x47503b(_0x201da4,_0x56d22e=0x1388,_0x85864a=!![]){const _0x196ec6=_0x189fb4,_0x155c06=Date[_0x196ec6(0xe8)]();while(Date[_0x196ec6(0xe8)]()-_0x155c06<_0x56d22e){const _0x4c411c=document[_0x196ec6(0xf7)](_0x201da4);if(_0x4c411c)return _0x4c411c;await new Promise(_0x395100=>setTimeout(_0x395100,0x64));}if(_0x85864a)throw new Error(_0x196ec6(0x105)+_0x201da4);else return null;}async function _0x20b6e7(_0x4cbf6b=0x3){const _0x1a4cab=_0x189fb4;console[_0x1a4cab(0xd7)](_0x1a4cab(0xda));const _0x15d927=location['href'];if(_0x15d927!=_0x51bed5)await _0x20eb07(0x9c4),_0x4fd7d6(_0x51bed5),await _0x20eb07(0x9c4);else{}let _0xa2ab17=0x0;const _0x51a580=await _0x47503b(_0x1a4cab(0x107),0xfa,![]);if(_0x51a580)_0xa2ab17=parseInt(_0x51a580['innerText'][_0x1a4cab(0x101)](/,/g,''));else{location['reload']();const _0x17aa96=Math[_0x1a4cab(0xe4)](Math[_0x1a4cab(0xd8)]()*0xa)+0x5;await _0x20eb07(_0x17aa96*0x3e8);return;}const _0x2c7c7b=extractMoney(),_0x2cfaef=extractPricePerBullet(),_0x5d0352=Math['min'](0xfa,Math['floor'](_0x2c7c7b/_0x2cfaef));if(_0xa2ab17>=_0x5d0352&&_0x5d0352>0x0){const _0x958536=await _0x47503b('input[id=\x27bullets\x27]'),_0x143fbb=await _0x47503b(_0x1a4cab(0xdb));_0x958536[_0x1a4cab(0x106)]=_0x5d0352,_0x143fbb['click'](),console[_0x1a4cab(0xd7)]('Purchasing\x20bullets'),await new Promise(_0x362e5e=>setTimeout(_0x362e5e,0x5dc)),localStorage[_0x1a4cab(0x108)](_0x1a4cab(0xfa),_0x19d224),localStorage[_0x1a4cab(0x108)]('bulletCount',_0xa2ab17),localStorage[_0x1a4cab(0x108)]('lastBulletPurchaseTime',Date[_0x1a4cab(0xe8)]());}else{const _0x50e6d0=await _0x47503b(_0x1a4cab(0xec),0x1388,![]),_0x3ae0e3=_0x50e6d0[_0x1a4cab(0xd6)][_0x1a4cab(0xf2)](),_0x2fa475=_0x431b0f(_0x3ae0e3),_0x38f4f6=new Date(),_0x54368b=new Date(_0x38f4f6[_0x1a4cab(0xf6)]()+_0x2fa475);let _0x2f9545=_0x54368b[_0x1a4cab(0xf6)]()-_0x38f4f6[_0x1a4cab(0xf6)]();_0x2f9545>0x3a*0x3c*0x3e8&&(_0x2f9545=Math[_0x1a4cab(0xe4)](Math[_0x1a4cab(0xd8)]()*(0x1388-0x7d0+0x1)+0x7d0));localStorage['setItem']('bulletCount',_0xa2ab17),console[_0x1a4cab(0xd7)]('reset\x20to\x20time:\x20'+_0x2f9545),localStorage[_0x1a4cab(0x108)](_0x1a4cab(0xfa),_0x2f9545),console[_0x1a4cab(0xd7)]('Calculated\x20Restock\x20Time:',_0x54368b),localStorage[_0x1a4cab(0x108)](_0x1a4cab(0xdd),_0x54368b[_0x1a4cab(0xf6)]());let _0x19bc11=0x0;localStorage[_0x1a4cab(0xfb)](_0x1a4cab(0xed),_0x19bc11),_0x19bc11===0x0?_0x4fd7d6(_0x5579e8):location[_0x1a4cab(0xf1)]();}}async function _0x5b8302(_0x216aa1=0x3){const _0x1f1206=_0x189fb4,_0x1e9b5d=location['href'];if(_0x1e9b5d!=_0x5579e8)await _0x20eb07(0x9c4),_0x4fd7d6(_0x5579e8),await _0x20eb07(0x9c4);else{}await _0x20eb07(0x9c4),console['log']('Kevlar');let _0x4a6e7d=0x0;const _0xaa347e=await _0x47503b(_0x1f1206(0x102),0xfa,![]);if(_0xaa347e)console[_0x1f1206(0xd7)](_0x1f1206(0x109)),_0x4a6e7d=parseInt(_0xaa347e[_0x1f1206(0xe3)][_0x1f1206(0x101)](/,/g,''));else{console[_0x1f1206(0xd7)](_0x1f1206(0xee)),location[_0x1f1206(0xf1)]();const _0xbcef8a=Math['floor'](Math[_0x1f1206(0xd8)]()*0xa)+0x5;await _0x20eb07(_0xbcef8a*0x3e8);return;}const _0x35bc0d=extractMoney(),_0x167d50=extractPricePerKevlar(),_0x2cc03f=Math[_0x1f1206(0xdc)](0xfa,Math[_0x1f1206(0xe4)](_0x35bc0d/_0x167d50));if(_0x4a6e7d>=_0x2cc03f&&_0x2cc03f>0x0){const _0x471db3=await _0x47503b(_0x1f1206(0x103)),_0x2052e4=await _0x47503b('input[value=\x27Purchase\x27]');_0x471db3['value']=_0x2cc03f,_0x2052e4['click'](),console[_0x1f1206(0xd7)](_0x1f1206(0x10d)),await new Promise(_0x3929eb=>setTimeout(_0x3929eb,0x5dc)),localStorage['setItem']('kevlarCooldown',_0x54a161),localStorage[_0x1f1206(0x108)]('kevlarCount',_0x4a6e7d),localStorage[_0x1f1206(0x108)]('lastKevlarPurchaseTime',Date[_0x1f1206(0xe8)]());}else{console[_0x1f1206(0xd7)](_0x1f1206(0xf9));const _0x310207=await _0x47503b(_0x1f1206(0xec),0x1388,![]),_0x2df742=_0x310207[_0x1f1206(0xd6)][_0x1f1206(0xf2)](),_0x175972=_0x431b0f(_0x2df742),_0x380f62=new Date(),_0x486006=new Date(_0x380f62[_0x1f1206(0xf6)]()+_0x175972);let _0x471095=_0x486006[_0x1f1206(0xf6)]()-_0x380f62[_0x1f1206(0xf6)]();localStorage[_0x1f1206(0x108)](_0x1f1206(0xea),_0x4a6e7d),console[_0x1f1206(0xd7)]('reset\x20to\x20time:\x20'+_0x471095),localStorage[_0x1f1206(0x108)](_0x1f1206(0xed),_0x471095),console[_0x1f1206(0xd7)]('Calculated\x20Restock\x20TimeKev:',_0x486006),localStorage[_0x1f1206(0x108)](_0x1f1206(0xeb),_0x486006[_0x1f1206(0xf6)]());let _0x5b6ab4=0x0;localStorage[_0x1f1206(0xfb)](_0x1f1206(0xfa),_0x5b6ab4),_0x5b6ab4===0x0?_0x4fd7d6(_0x51bed5):location['reload']();}}function _0x3e1a4a(){const _0x4bd762=_0x189fb4;return localStorage[_0x4bd762(0xfb)](_0x4bd762(0xff))!==_0x4bd762(0x10e);}async function _0x4933c9(){const _0x52e4e4=_0x189fb4;if(!_0x3e1a4a()){setTimeout(_0x4933c9,0x3e8);return;}const _0x13a1c5=location[_0x52e4e4(0xf8)],_0x56c2e2=parseInt(localStorage[_0x52e4e4(0xfb)]('bulletCooldown'))||0x0,_0x23a7fc=parseInt(localStorage['getItem']('lastBulletPurchaseTime'))||0x0,_0x4b84e5=Date['now']()-_0x23a7fc,_0x17b49a=parseInt(localStorage[_0x52e4e4(0xfb)](_0x52e4e4(0xed)))||0x0,_0x26face=parseInt(localStorage[_0x52e4e4(0xfb)]('lastKevlarPurchaseTime'))||0x0,_0x503523=Date[_0x52e4e4(0xe8)]()-_0x26face;if(_0x56c2e2==0x0)await _0x20b6e7();else _0x17b49a==0x0&&await _0x5b8302();setTimeout(_0x4933c9,0x3e8);}async function _0x2d5dc3(){setTimeout(_0x4933c9,0x3e8);}_0x2d5dc3();});
})();
