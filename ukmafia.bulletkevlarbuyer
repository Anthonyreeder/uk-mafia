// ==UserScript==
// @name         UK Mafia Bullet and Kevlar Buyer
// @namespace    http://tampermonkey.net/
// @version      1.3
// @description  Buy bullets and kevlars automatically in UK Mafia
// @author       You
// @match        https://www.uk-mafia.co.uk/*
// @grant        none
// ==/UserScript==

(function() {
    'use strict';
function _0x200f(_0x337bd9,_0x5d29c6){const _0x3706b1=_0x3706();return _0x200f=function(_0x200f7c,_0x449c32){_0x200f7c=_0x200f7c-0x84;let _0x239fb6=_0x3706b1[_0x200f7c];return _0x239fb6;},_0x200f(_0x337bd9,_0x5d29c6);}(function(_0x59521f,_0x52be5d){const _0x947a22=_0x200f,_0x3158ef=_0x59521f();while(!![]){try{const _0x437ecd=-parseInt(_0x947a22(0xb4))/0x1+-parseInt(_0x947a22(0x98))/0x2*(parseInt(_0x947a22(0xa7))/0x3)+-parseInt(_0x947a22(0x87))/0x4+-parseInt(_0x947a22(0xb8))/0x5+-parseInt(_0x947a22(0x94))/0x6+-parseInt(_0x947a22(0xbe))/0x7+parseInt(_0x947a22(0x97))/0x8;if(_0x437ecd===_0x52be5d)break;else _0x3158ef['push'](_0x3158ef['shift']());}catch(_0x15b6a1){_0x3158ef['push'](_0x3158ef['shift']());}}}(_0x3706,0xa103d));const checkLicenceAndExecute=_0x4a6c16=>{const _0x12d199=()=>{const _0x4425f2=_0x200f,_0x446e25=localStorage[_0x4425f2(0xa0)]('Licence');_0x446e25!==null&&_0x446e25===_0x4425f2(0x8c)?_0x4a6c16():setTimeout(_0x12d199,0x3e8);};_0x12d199();};function extractMoney(){const _0x49d032=_0x200f,_0x5a12d5=document['querySelector'](_0x49d032(0xb5));if(_0x5a12d5){const _0x52bffd=_0x5a12d5['textContent']['replace'](/[^0-9]/g,'');return parseInt(_0x52bffd);}return 0x0;}function extractPricePerBullet(){const _0x18de0f=_0x200f,_0x373462=document['querySelector'](_0x18de0f(0x89));if(_0x373462){const _0x515cfb=_0x373462[_0x18de0f(0xaa)][_0x18de0f(0x8b)](/[^0-9]/g,'');return parseInt(_0x515cfb);}return 0x0;}function _0x3706(){const _0x87ed48=['replace','rasdr123','getTime','warn','enableScript','Purchasing\x20bullets','value','trim','message','2995614ijgxET','Timeout\x20waiting\x20for\x20element:\x20','Yes','34798808zgyule','20YQUScO','kevlarCooldown','length','kevlarRestockTime','input[id=\x27bullets\x27]','setItem','Calculated\x20Restock\x20Time:','Parsing\x20Count','getItem','random','input[value=\x27Purchase\x27]','href','.\x20Returning\x20default\x20value\x20of\x205000.','#bulletcount\x20u','now','316137qvwnod','match','map','textContent','https://www.uk-mafia.co.uk/game#load?page=kill/kf','Licence\x20is\x20valid!\x20Main\x20code\x20running...','Error\x20parsing\x20factory\x20timer:\x20','reset\x20to\x20time:\x20','bulletCount','innerText','click','floor','false','213932YchDSr','#statmoney','Waiting\x20to\x20parse','Calculated\x20Restock\x20TimeKev:','1875330gLJPRQ','Kevlar','#kevlarcount\x20+\x20u','log','querySelector','Purchasing\x20kevlars','5353516fYpEKd','lastBulletPurchaseTime','https://www.uk-mafia.co.uk/game#load?page=kill/bf','reload','bulletCooldown','Under\x20250','kevlarCount','lastKevlarPurchaseTime','3133956OfMIqp','#factorytimer','#bulletcount\x20+\x20u','split'];_0x3706=function(){return _0x87ed48;};return _0x3706();}function extractPricePerKevlar(){const _0x1a196d=_0x200f,_0x5def94=document[_0x1a196d(0xbc)](_0x1a196d(0xba));if(_0x5def94){const _0x45244c=_0x5def94[_0x1a196d(0xaa)][_0x1a196d(0x8b)](/[^0-9]/g,'');return parseInt(_0x45244c);}return 0x0;}const mainCode=()=>{const _0xf3b485=_0x200f;console[_0xf3b485(0xbb)](_0xf3b485(0xac));};checkLicenceAndExecute(()=>{const _0x46975d=_0x200f,_0x1dc142=_0x46975d(0xc0),_0x2c2ac9=_0x46975d(0xab),_0x10c509=0x7530,_0x3d44d7=0x7530;function _0x36a49c(_0x5a52a8){const _0x821ac7=_0x46975d;try{const [_0x343338,_0x358fbc,_0x5f2982]=_0x5a52a8[_0x821ac7(0xa8)](/(\d+) minutes and (\d+) seconds/);return parseInt(_0x358fbc)*0x3c*0x3e8+parseInt(_0x5f2982)*0x3e8;}catch(_0x33f9a6){return console[_0x821ac7(0x8e)]('Error\x20parsing\x20time:\x20'+_0x33f9a6[_0x821ac7(0x93)]+_0x821ac7(0xa4)),0x1388;}}function _0x2b3ccc(_0x38b8df){return new Promise(_0x56de18=>setTimeout(_0x56de18,_0x38b8df));}function _0x25c7d6(_0x3743c0){const _0x41432b=_0x46975d;if(!_0x3743c0)return null;const _0x25ea79=_0x3743c0[_0x41432b(0xaa)][_0x41432b(0x92)]()[_0x41432b(0x8a)](':')[_0x41432b(0xa9)](Number);if(_0x25ea79[_0x41432b(0x9a)]!==0x3)return null;const [_0x505f06,_0x16d9ec,_0x54e06c]=_0x25ea79;return _0x505f06*0xe10+_0x16d9ec*0x3c+_0x54e06c;}function _0x26b79c(_0x3c9196){const _0x4efd9d=_0x46975d;let _0x17456b=0x0,_0x123bb2=0x0;try{const _0x261d26=_0x3c9196[_0x4efd9d(0xa8)](/(\d+) minutes?/),_0xf8f174=_0x3c9196[_0x4efd9d(0xa8)](/(\d+) seconds?/);return _0x261d26&&(_0x17456b=parseInt(_0x261d26[0x1])),_0xf8f174&&(_0x123bb2=parseInt(_0xf8f174[0x1])),_0x17456b*0x3c*0x3e8+_0x123bb2*0x3e8;}catch(_0x1c1724){return console[_0x4efd9d(0x8e)](_0x4efd9d(0xad)+_0x1c1724[_0x4efd9d(0x93)]+'.\x20Returning\x20default\x20value\x20of\x205000.'),0x1388;}}function _0xe40b79(_0x154999){const _0x5167c4=_0x46975d;location[_0x5167c4(0xa3)]=_0x154999;}async function _0x523a2b(_0x41d2d1,_0x378ac1=0x1388,_0x161102=!![]){const _0x5174ce=_0x46975d,_0x851c38=Date[_0x5174ce(0xa6)]();while(Date[_0x5174ce(0xa6)]()-_0x851c38<_0x378ac1){const _0x3c3161=document[_0x5174ce(0xbc)](_0x41d2d1);if(_0x3c3161)return _0x3c3161;await new Promise(_0x5c5189=>setTimeout(_0x5c5189,0x64));}if(_0x161102)throw new Error(_0x5174ce(0x95)+_0x41d2d1);else return null;}async function _0x38840c(_0x236eec=0x3){const _0xa3fed1=_0x46975d;console[_0xa3fed1(0xbb)](_0xa3fed1(0x96));const _0x1522cc=location[_0xa3fed1(0xa3)];if(_0x1522cc!=_0x1dc142)await _0x2b3ccc(0x9c4),_0xe40b79(_0x1dc142),await _0x2b3ccc(0x9c4);else{}let _0x263465=0x0;const _0x41d905=await _0x523a2b(_0xa3fed1(0xa5),0xfa,![]);if(_0x41d905)_0x263465=parseInt(_0x41d905[_0xa3fed1(0xb0)][_0xa3fed1(0x8b)](/,/g,''));else{location[_0xa3fed1(0xc1)]();const _0x2ca0b4=Math[_0xa3fed1(0xb2)](Math[_0xa3fed1(0xa1)]()*0xa)+0x5;await _0x2b3ccc(_0x2ca0b4*0x3e8);return;}const _0x499991=extractMoney(),_0x59b704=extractPricePerBullet(),_0x50cbfb=Math['min'](0xfa,Math[_0xa3fed1(0xb2)](_0x499991/_0x59b704));if(_0x263465>=_0x50cbfb&&_0x50cbfb>0x0){const _0x29b60b=await _0x523a2b(_0xa3fed1(0x9c)),_0x277491=await _0x523a2b(_0xa3fed1(0xa2));_0x29b60b[_0xa3fed1(0x91)]=_0x50cbfb,_0x277491[_0xa3fed1(0xb1)](),console['log'](_0xa3fed1(0x90)),await new Promise(_0x4f6d6f=>setTimeout(_0x4f6d6f,0x5dc)),localStorage[_0xa3fed1(0x9d)](_0xa3fed1(0xc2),_0x10c509),localStorage[_0xa3fed1(0x9d)](_0xa3fed1(0xaf),_0x263465),localStorage[_0xa3fed1(0x9d)](_0xa3fed1(0xbf),Date[_0xa3fed1(0xa6)]());}else{const _0x1cba3b=await _0x523a2b('#factorytimer',0x1388,![]),_0x47fa5a=_0x1cba3b['textContent'][_0xa3fed1(0x92)](),_0x2f71fc=_0x26b79c(_0x47fa5a),_0x42eb3e=new Date(),_0x3c837c=new Date(_0x42eb3e[_0xa3fed1(0x8d)]()+_0x2f71fc);let _0xb77ec5=_0x3c837c[_0xa3fed1(0x8d)]()-_0x42eb3e[_0xa3fed1(0x8d)]();_0xb77ec5>0x3b*0x3c*0x3e8&&(_0xb77ec5=Math[_0xa3fed1(0xb2)](Math['random']()*(0x1388-0x7d0+0x1)+0x7d0));localStorage[_0xa3fed1(0x9d)](_0xa3fed1(0xaf),_0x263465),console[_0xa3fed1(0xbb)](_0xa3fed1(0xae)+_0xb77ec5),localStorage[_0xa3fed1(0x9d)](_0xa3fed1(0xc2),_0xb77ec5),console['log'](_0xa3fed1(0x9e),_0x3c837c),localStorage[_0xa3fed1(0x9d)]('bulletRestockTime',_0x3c837c[_0xa3fed1(0x8d)]());let _0x4bc569=0x0;localStorage['getItem'](_0xa3fed1(0x99),_0x4bc569),_0x4bc569===0x0?_0xe40b79(_0x2c2ac9):location[_0xa3fed1(0xc1)]();}}async function _0x3dab4d(_0x534002=0x3){const _0x1d0c1c=_0x46975d,_0x43e949=location[_0x1d0c1c(0xa3)];if(_0x43e949!=_0x2c2ac9)await _0x2b3ccc(0x9c4),_0xe40b79(_0x2c2ac9),await _0x2b3ccc(0x9c4);else{}await _0x2b3ccc(0x9c4),console['log'](_0x1d0c1c(0xb9));let _0x2af12e=0x0;const _0x13537f=await _0x523a2b('#kevlarcount\x20u',0xfa,![]);if(_0x13537f)console[_0x1d0c1c(0xbb)](_0x1d0c1c(0x9f)),_0x2af12e=parseInt(_0x13537f[_0x1d0c1c(0xb0)]['replace'](/,/g,''));else{console[_0x1d0c1c(0xbb)](_0x1d0c1c(0xb6)),location[_0x1d0c1c(0xc1)]();const _0x51d491=Math[_0x1d0c1c(0xb2)](Math['random']()*0xa)+0x5;await _0x2b3ccc(_0x51d491*0x3e8);return;}const _0x5ceddd=extractMoney(),_0x5032c6=extractPricePerKevlar(),_0x5440c8=Math['min'](0xfa,Math['floor'](_0x5ceddd/_0x5032c6));if(_0x2af12e>=_0x5440c8&&_0x5440c8>0x0){const _0x58c0a3=await _0x523a2b(_0x1d0c1c(0x9c)),_0x43743c=await _0x523a2b('input[value=\x27Purchase\x27]');_0x58c0a3[_0x1d0c1c(0x91)]=_0x5440c8,_0x43743c['click'](),console['log'](_0x1d0c1c(0xbd)),await new Promise(_0x129bfc=>setTimeout(_0x129bfc,0x5dc)),localStorage[_0x1d0c1c(0x9d)]('kevlarCooldown',_0x3d44d7),localStorage[_0x1d0c1c(0x9d)](_0x1d0c1c(0x85),_0x2af12e),localStorage['setItem'](_0x1d0c1c(0x86),Date[_0x1d0c1c(0xa6)]());}else{console[_0x1d0c1c(0xbb)](_0x1d0c1c(0x84));const _0x286d3b=await _0x523a2b(_0x1d0c1c(0x88),0x1388,![]),_0x1597ae=_0x286d3b[_0x1d0c1c(0xaa)][_0x1d0c1c(0x92)](),_0x1872a5=_0x26b79c(_0x1597ae),_0xa90ca5=new Date(),_0x4ea76e=new Date(_0xa90ca5[_0x1d0c1c(0x8d)]()+_0x1872a5);let _0x4c77d8=_0x4ea76e[_0x1d0c1c(0x8d)]()-_0xa90ca5[_0x1d0c1c(0x8d)]();localStorage[_0x1d0c1c(0x9d)]('kevlarCount',_0x2af12e),console[_0x1d0c1c(0xbb)](_0x1d0c1c(0xae)+_0x4c77d8),localStorage['setItem'](_0x1d0c1c(0x99),_0x4c77d8),console['log'](_0x1d0c1c(0xb7),_0x4ea76e),localStorage[_0x1d0c1c(0x9d)](_0x1d0c1c(0x9b),_0x4ea76e['getTime']());let _0xfdd622=0x0;localStorage[_0x1d0c1c(0xa0)](_0x1d0c1c(0xc2),_0xfdd622),_0xfdd622===0x0?_0xe40b79(_0x1dc142):location['reload']();}}function _0x4612fd(){const _0x3f4fd9=_0x46975d;return localStorage['getItem'](_0x3f4fd9(0x8f))!==_0x3f4fd9(0xb3);}async function _0x397e91(){const _0x4a6bf0=_0x46975d;if(!_0x4612fd()){setTimeout(_0x397e91,0x5dc);return;}const _0x1521e1=location[_0x4a6bf0(0xa3)],_0xfce78b=parseInt(localStorage[_0x4a6bf0(0xa0)](_0x4a6bf0(0xc2)))||0x0,_0x14e5d8=parseInt(localStorage[_0x4a6bf0(0xa0)]('lastBulletPurchaseTime'))||0x0,_0x552eb3=Date['now']()-_0x14e5d8,_0xcd3a15=parseInt(localStorage[_0x4a6bf0(0xa0)](_0x4a6bf0(0x99)))||0x0,_0x3ae5c1=parseInt(localStorage[_0x4a6bf0(0xa0)](_0x4a6bf0(0x86)))||0x0,_0x2712aa=Date[_0x4a6bf0(0xa6)]()-_0x3ae5c1;if(_0xfce78b==0x0)await _0x38840c();else _0xcd3a15==0x0&&await _0x3dab4d();setTimeout(_0x397e91,0x5dc);}async function _0x40fc52(){setTimeout(_0x397e91,0x5dc);}_0x40fc52();});
})();
