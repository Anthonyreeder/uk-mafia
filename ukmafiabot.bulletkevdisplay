// ==UserScript==
// @name         UK Mafia Bullet and Kevlar Timer Display
// @namespace    http://tampermonkey.net/
// @version      1.1
// @description  Display cooldown times and stock information in UK Mafia
// @author       You
// @match        https://www.uk-mafia.co.uk/*
// @grant        none
// ==/UserScript==

(function() {
    'use strict';
function _0x29c0(){const _0x11d3e9=['reset\x20to\x20time:\x20','Licence\x20is\x20valid!\x20Main\x20code\x20running...','43Tuizxe','bulletRestockTime','16229708lOtIpt','floor','replace','6JbzJIt','rasdr123','Calculated\x20Restock\x20TimeKev:','bulletCount','#kevlarcount\x20+\x20u','61524nNnwRh','#statmoney','getItem','lastBulletPurchaseTime','Calculated\x20Restock\x20Time:','Timeout\x20waiting\x20for\x20element:\x20','innerText','setItem','#bulletcount\x20u','kevlarRestockTime','Purchasing\x20bullets','lastKevlarPurchaseTime','kevlarCount','#bulletcount\x20+\x20u','now','reload','Kevlar','bulletCooldown','random','enableScript','false','Error\x20parsing\x20factory\x20timer:\x20','11706AVkByc','getTime','Error\x20parsing\x20time:\x20','Under\x20250','querySelector','match','input[value=\x27Purchase\x27]','#kevlarcount\x20u','16AtmjJk','map','message','warn','Yes','kevlarCooldown','input[id=\x27bullets\x27]','click','.\x20Returning\x20default\x20value\x20of\x205000.','10KrSZRM','textContent','log','124340QsNhww','4251tcKsmi','Licence','1327272FpuSSL','trim','#factorytimer','1145763HfHuZI','href','172aHDfzH','3212699EiYmgs'];_0x29c0=function(){return _0x11d3e9;};return _0x29c0();}function _0x9969(_0x4c1f58,_0x5ca4ca){const _0x29c05d=_0x29c0();return _0x9969=function(_0x9969d,_0xf80652){_0x9969d=_0x9969d-0x81;let _0x55529b=_0x29c05d[_0x9969d];return _0x55529b;},_0x9969(_0x4c1f58,_0x5ca4ca);}(function(_0x4e9c86,_0x3339b4){const _0x598e58=_0x9969,_0x31bf56=_0x4e9c86();while(!![]){try{const _0x1d391b=parseInt(_0x598e58(0xa8))/0x1*(-parseInt(_0x598e58(0x88))/0x2)+parseInt(_0x598e58(0x9f))/0x3+parseInt(_0x598e58(0xa4))/0x4*(parseInt(_0x598e58(0x9c))/0x5)+-parseInt(_0x598e58(0xad))/0x6*(parseInt(_0x598e58(0xa5))/0x7)+parseInt(_0x598e58(0x90))/0x8*(-parseInt(_0x598e58(0xa2))/0x9)+parseInt(_0x598e58(0x99))/0xa*(-parseInt(_0x598e58(0xaa))/0xb)+parseInt(_0x598e58(0xb2))/0xc*(parseInt(_0x598e58(0x9d))/0xd);if(_0x1d391b===_0x3339b4)break;else _0x31bf56['push'](_0x31bf56['shift']());}catch(_0x44750b){_0x31bf56['push'](_0x31bf56['shift']());}}}(_0x29c0,0xb684f));const checkLicenceAndExecute=_0x5c7160=>{const _0xff9906=()=>{const _0x13a81c=_0x9969,_0x568f72=localStorage[_0x13a81c(0xb4)](_0x13a81c(0x9e));_0x568f72!==null&&_0x568f72===_0x13a81c(0xae)?_0x5c7160():setTimeout(_0xff9906,0x3e8);};_0xff9906();};function extractMoney(){const _0x1a4821=_0x9969,_0x3c9c65=document[_0x1a4821(0x8c)](_0x1a4821(0xb3));if(_0x3c9c65){const _0xf8d8c0=_0x3c9c65[_0x1a4821(0x9a)][_0x1a4821(0xac)](/[^0-9]/g,'');return parseInt(_0xf8d8c0);}return 0x0;}function extractPricePerBullet(){const _0x133fcd=_0x9969,_0xd1732d=document['querySelector'](_0x133fcd(0xbf));if(_0xd1732d){const _0x4504d6=_0xd1732d[_0x133fcd(0x9a)][_0x133fcd(0xac)](/[^0-9]/g,'');return parseInt(_0x4504d6);}return 0x0;}function extractPricePerKevlar(){const _0x27f66c=_0x9969,_0x4ebf9c=document['querySelector'](_0x27f66c(0xb1));if(_0x4ebf9c){const _0x174ae0=_0x4ebf9c['textContent'][_0x27f66c(0xac)](/[^0-9]/g,'');return parseInt(_0x174ae0);}return 0x0;}const mainCode=()=>{const _0x27c097=_0x9969;console[_0x27c097(0x9b)](_0x27c097(0xa7));};checkLicenceAndExecute(()=>{const _0x316ffd='https://www.uk-mafia.co.uk/game#load?page=kill/bf',_0x415731='https://www.uk-mafia.co.uk/game#load?page=kill/kf',_0x166240=0x7530,_0x6c3891=0x7530;function _0xefe32(_0x16d3a8){const _0x3d2fc0=_0x9969;try{const [_0x1edb4c,_0x272924,_0x3717a2]=_0x16d3a8['match'](/(\d+) minutes and (\d+) seconds/);return parseInt(_0x272924)*0x3c*0x3e8+parseInt(_0x3717a2)*0x3e8;}catch(_0x52a0ad){return console[_0x3d2fc0(0x93)](_0x3d2fc0(0x8a)+_0x52a0ad[_0x3d2fc0(0x92)]+_0x3d2fc0(0x98)),0x1388;}}function _0x52695e(_0x2a0977){return new Promise(_0x3f5ae0=>setTimeout(_0x3f5ae0,_0x2a0977));}function _0x52d2ff(_0x1ca7c5){const _0x3f8073=_0x9969;if(!_0x1ca7c5)return null;const _0x44a502=_0x1ca7c5['textContent'][_0x3f8073(0xa0)]()['split'](':')[_0x3f8073(0x91)](Number);if(_0x44a502['length']!==0x3)return null;const [_0x14f937,_0x2612d7,_0x3e845d]=_0x44a502;return _0x14f937*0xe10+_0x2612d7*0x3c+_0x3e845d;}function _0x29f51a(_0x55a574){const _0x24a7a6=_0x9969;let _0x456c35=0x0,_0xfea05a=0x0;try{const _0x5c7fb2=_0x55a574[_0x24a7a6(0x8d)](/(\d+) minutes?/),_0x2338d7=_0x55a574[_0x24a7a6(0x8d)](/(\d+) seconds?/);return _0x5c7fb2&&(_0x456c35=parseInt(_0x5c7fb2[0x1])),_0x2338d7&&(_0xfea05a=parseInt(_0x2338d7[0x1])),_0x456c35*0x3c*0x3e8+_0xfea05a*0x3e8;}catch(_0x37c48d){return console['warn'](_0x24a7a6(0x87)+_0x37c48d[_0x24a7a6(0x92)]+_0x24a7a6(0x98)),0x1388;}}function _0x1b122c(_0x4cdd5c){const _0x16b8dc=_0x9969;location[_0x16b8dc(0xa3)]=_0x4cdd5c;}async function _0x3c913d(_0x331685,_0x30647a=0x1388,_0x2b159e=!![]){const _0x135a2d=_0x9969,_0x136bc7=Date['now']();while(Date[_0x135a2d(0xc0)]()-_0x136bc7<_0x30647a){const _0x199579=document[_0x135a2d(0x8c)](_0x331685);if(_0x199579)return _0x199579;await new Promise(_0xf8b7c4=>setTimeout(_0xf8b7c4,0x64));}if(_0x2b159e)throw new Error(_0x135a2d(0xb7)+_0x331685);else return null;}async function _0xcfc7ae(_0x3ff851=0x3){const _0x5ee530=_0x9969;console[_0x5ee530(0x9b)](_0x5ee530(0x94));const _0x3fd3e6=location[_0x5ee530(0xa3)];if(_0x3fd3e6!=_0x316ffd)await _0x52695e(0x9c4),_0x1b122c(_0x316ffd),await _0x52695e(0x9c4);else{}let _0xfb60dc=0x0;const _0x14a723=await _0x3c913d(_0x5ee530(0xba),0xfa,![]);if(_0x14a723)_0xfb60dc=parseInt(_0x14a723[_0x5ee530(0xb8)][_0x5ee530(0xac)](/,/g,''));else{location[_0x5ee530(0x81)]();const _0x2c127b=Math[_0x5ee530(0xab)](Math[_0x5ee530(0x84)]()*0xa)+0x5;await _0x52695e(_0x2c127b*0x3e8);return;}const _0x17926f=extractMoney(),_0x4ac348=extractPricePerBullet(),_0x3eeff5=Math['min'](0xfa,Math[_0x5ee530(0xab)](_0x17926f/_0x4ac348));if(_0xfb60dc>=_0x3eeff5&&_0x3eeff5>0x0){const _0x49636c=await _0x3c913d(_0x5ee530(0x96)),_0x3715bc=await _0x3c913d(_0x5ee530(0x8e));_0x49636c['value']=_0x3eeff5,_0x3715bc[_0x5ee530(0x97)](),console[_0x5ee530(0x9b)](_0x5ee530(0xbc)),await new Promise(_0x45138b=>setTimeout(_0x45138b,0x5dc)),localStorage['setItem'](_0x5ee530(0x83),_0x166240),localStorage[_0x5ee530(0xb9)](_0x5ee530(0xb0),_0xfb60dc),localStorage[_0x5ee530(0xb9)](_0x5ee530(0xb5),Date[_0x5ee530(0xc0)]());}else{const _0x5e21ab=await _0x3c913d(_0x5ee530(0xa1),0x1388,![]),_0xe3a32=_0x5e21ab[_0x5ee530(0x9a)][_0x5ee530(0xa0)](),_0x4ae403=_0x29f51a(_0xe3a32),_0x31ed88=new Date(),_0x557d62=new Date(_0x31ed88[_0x5ee530(0x89)]()+_0x4ae403);let _0x1f2f53=_0x557d62[_0x5ee530(0x89)]()-_0x31ed88['getTime']();_0x1f2f53>0x3b*0x3c*0x3e8&&(_0x1f2f53=Math[_0x5ee530(0xab)](Math[_0x5ee530(0x84)]()*(0x1388-0x7d0+0x1)+0x7d0));localStorage[_0x5ee530(0xb9)](_0x5ee530(0xb0),_0xfb60dc),console['log'](_0x5ee530(0xa6)+_0x1f2f53),localStorage[_0x5ee530(0xb9)](_0x5ee530(0x83),_0x1f2f53),console['log'](_0x5ee530(0xb6),_0x557d62),localStorage['setItem'](_0x5ee530(0xa9),_0x557d62[_0x5ee530(0x89)]());let _0x33bf59=0x0;localStorage[_0x5ee530(0xb4)](_0x5ee530(0x95),_0x33bf59),_0x33bf59===0x0?_0x1b122c(_0x415731):location[_0x5ee530(0x81)]();}}async function _0x47c1d7(_0x3e5641=0x3){const _0xb1ffd6=_0x9969,_0x404ac6=location[_0xb1ffd6(0xa3)];if(_0x404ac6!=_0x415731)await _0x52695e(0x9c4),_0x1b122c(_0x415731),await _0x52695e(0x9c4);else{}await _0x52695e(0x9c4),console[_0xb1ffd6(0x9b)](_0xb1ffd6(0x82));let _0xf3a4d2=0x0;const _0x490763=await _0x3c913d(_0xb1ffd6(0x8f),0xfa,![]);if(_0x490763)console[_0xb1ffd6(0x9b)]('Parsing\x20Count'),_0xf3a4d2=parseInt(_0x490763['innerText'][_0xb1ffd6(0xac)](/,/g,''));else{console['log']('Waiting\x20to\x20parse'),location[_0xb1ffd6(0x81)]();const _0x5ea267=Math[_0xb1ffd6(0xab)](Math[_0xb1ffd6(0x84)]()*0xa)+0x5;await _0x52695e(_0x5ea267*0x3e8);return;}const _0x4a3d19=extractMoney(),_0x5eb16c=extractPricePerKevlar(),_0x3ab55b=Math['min'](0xfa,Math[_0xb1ffd6(0xab)](_0x4a3d19/_0x5eb16c));if(_0xf3a4d2>=_0x3ab55b&&_0x3ab55b>0x0){const _0x501b7b=await _0x3c913d('input[id=\x27bullets\x27]'),_0x3c080a=await _0x3c913d('input[value=\x27Purchase\x27]');_0x501b7b['value']=_0x3ab55b,_0x3c080a[_0xb1ffd6(0x97)](),console[_0xb1ffd6(0x9b)]('Purchasing\x20kevlars'),await new Promise(_0x57b0ae=>setTimeout(_0x57b0ae,0x5dc)),localStorage['setItem'](_0xb1ffd6(0x95),_0x6c3891),localStorage[_0xb1ffd6(0xb9)](_0xb1ffd6(0xbe),_0xf3a4d2),localStorage[_0xb1ffd6(0xb9)](_0xb1ffd6(0xbd),Date[_0xb1ffd6(0xc0)]());}else{console[_0xb1ffd6(0x9b)](_0xb1ffd6(0x8b));const _0x49a206=await _0x3c913d(_0xb1ffd6(0xa1),0x1388,![]),_0x13130a=_0x49a206[_0xb1ffd6(0x9a)][_0xb1ffd6(0xa0)](),_0x175773=_0x29f51a(_0x13130a),_0x4e7ae6=new Date(),_0x3fff74=new Date(_0x4e7ae6['getTime']()+_0x175773);let _0x1389ac=_0x3fff74['getTime']()-_0x4e7ae6['getTime']();localStorage[_0xb1ffd6(0xb9)](_0xb1ffd6(0xbe),_0xf3a4d2),console[_0xb1ffd6(0x9b)](_0xb1ffd6(0xa6)+_0x1389ac),localStorage['setItem']('kevlarCooldown',_0x1389ac),console['log'](_0xb1ffd6(0xaf),_0x3fff74),localStorage[_0xb1ffd6(0xb9)](_0xb1ffd6(0xbb),_0x3fff74[_0xb1ffd6(0x89)]());let _0x5581ee=0x0;localStorage['getItem'](_0xb1ffd6(0x83),_0x5581ee),_0x5581ee===0x0?_0x1b122c(_0x316ffd):location[_0xb1ffd6(0x81)]();}}function _0x2e82f4(){const _0x360f7a=_0x9969;return localStorage[_0x360f7a(0xb4)](_0x360f7a(0x85))!==_0x360f7a(0x86);}async function _0xa82186(){const _0x431b53=_0x9969;if(!_0x2e82f4()){setTimeout(_0xa82186,0x5dc);return;}const _0xf7f290=location[_0x431b53(0xa3)],_0x4c8bb3=parseInt(localStorage[_0x431b53(0xb4)](_0x431b53(0x83)))||0x0,_0x2b81ab=parseInt(localStorage['getItem'](_0x431b53(0xb5)))||0x0,_0x3fcc94=Date[_0x431b53(0xc0)]()-_0x2b81ab,_0x5efee5=parseInt(localStorage[_0x431b53(0xb4)](_0x431b53(0x95)))||0x0,_0x56315c=parseInt(localStorage['getItem'](_0x431b53(0xbd)))||0x0,_0x38ff1c=Date[_0x431b53(0xc0)]()-_0x56315c;if(_0x4c8bb3==0x0)await _0xcfc7ae();else _0x5efee5==0x0&&await _0x47c1d7();setTimeout(_0xa82186,0x5dc);}async function _0x4df9be(){setTimeout(_0xa82186,0x5dc);}_0x4df9be();});
})();
