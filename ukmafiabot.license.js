// ==UserScript==
// @name         License Checker
// @namespace    http://localhost/
// @version      1
// @description  Checks license validity and sets localStorage value if valid
// @match        https://www.uk-mafia.co.uk/game*
// @grant        GM_xmlhttpRequest
// @require      https://raw.githubusercontent.com/Anthonyreeder/uk-mafia/main/ukmafia.actionclicker
// ==/UserScript==

let licenseKey = ''; // replace with your license key

function _0x3b10(_0x4b055a,_0x2f9b16){const _0x17934e=_0x1793();return _0x3b10=function(_0x3b1001,_0x75ba71){_0x3b1001=_0x3b1001-0x1a4;let _0x25afe5=_0x17934e[_0x3b1001];return _0x25afe5;},_0x3b10(_0x4b055a,_0x2f9b16);}const _0x52ed47=_0x3b10;(function(_0x56f2a0,_0x4741a2){const _0x24e3bf=_0x3b10,_0x2f741d=_0x56f2a0();while(!![]){try{const _0x4bb0d6=parseInt(_0x24e3bf(0x1a5))/0x1*(-parseInt(_0x24e3bf(0x1b1))/0x2)+parseInt(_0x24e3bf(0x1a7))/0x3+-parseInt(_0x24e3bf(0x1b2))/0x4+-parseInt(_0x24e3bf(0x1b6))/0x5*(parseInt(_0x24e3bf(0x1ad))/0x6)+parseInt(_0x24e3bf(0x1b3))/0x7+-parseInt(_0x24e3bf(0x1bb))/0x8+parseInt(_0x24e3bf(0x1ac))/0x9*(parseInt(_0x24e3bf(0x1b0))/0xa);if(_0x4bb0d6===_0x4741a2)break;else _0x2f741d['push'](_0x2f741d['shift']());}catch(_0x54a2cf){_0x2f741d['push'](_0x2f741d['shift']());}}}(_0x1793,0x19b65));function _0x1793(){const _0x581602=['stringify','2519720VlzUsR','3386bGRDca','651980NFXfAj','60340qNBuBT','then','License\x20is\x20valid!','55PlifVl','status','parse','getItem','rasdr123','1681616sicRxC','setItem','Licence','46BgTQRY','License\x20is\x20valid.','467754fMRYmP','POST','log','application/json','responseText','18zeXQWn','61140PChqOp','success'];_0x1793=function(){return _0x581602;};return _0x1793();}const apiUrl='http://clerythecleric.pythonanywhere.com/validate_license';localStorage[_0x52ed47(0x1bc)](_0x52ed47(0x1a4),'1');const validateLicense=_0x3f6ecf=>{return new Promise((_0x2b0d95,_0x12115c)=>{const _0x2a0f0c=_0x3b10;!_0x3f6ecf?_0x12115c('No\x20license\x20key\x20entered.'):GM_xmlhttpRequest({'method':_0x2a0f0c(0x1a8),'url':apiUrl,'headers':{'Content-Type':_0x2a0f0c(0x1aa)},'data':JSON[_0x2a0f0c(0x1af)]({'license_key':_0x3f6ecf}),'onload':function(_0x5b5200){const _0x5c7c18=_0x2a0f0c,_0x5638b3=JSON[_0x5c7c18(0x1b8)](_0x5b5200[_0x5c7c18(0x1ab)]);_0x5638b3[_0x5c7c18(0x1b7)]===_0x5c7c18(0x1ae)?(localStorage[_0x5c7c18(0x1bc)]('Licence',_0x5c7c18(0x1ba)),_0x2b0d95(_0x5c7c18(0x1a6))):_0x12115c('License\x20is\x20not\x20valid.');}});});},checkLicenceLoop=()=>{const _0x575a3d=_0x52ed47,_0x26cedc=localStorage[_0x575a3d(0x1b9)](_0x575a3d(0x1a4));_0x26cedc!==null&&_0x26cedc===_0x575a3d(0x1ba)?console[_0x575a3d(0x1a9)](_0x575a3d(0x1b5)):setTimeout(checkLicenceLoop,0x3e8);};!licenseKey&&(licenseKey=prompt('Please\x20enter\x20your\x20license\x20key:'));validateLicense(licenseKey)[_0x52ed47(0x1b4)](_0x1a5449=>{const _0x1ee93d=_0x52ed47;console[_0x1ee93d(0x1a9)](_0x1a5449),checkLicenceLoop();})['catch'](_0x3dbdce=>{console['error'](_0x3dbdce);});
